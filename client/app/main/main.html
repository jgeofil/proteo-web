<navbar></navbar>

<div class="container">
  <div class="row">
    <div class="col-lg-12">

      <ol class="breadcrumb">
        <li class="active">
          <a ng-if="select.project" ng-click="reset()">Projects</a>
          <span ng-if="!select.project">Projects</span>
        </li>
        <li class="active" ng-if="select.project">
          <a ng-if="select.dataset" ng-click="resetToProject()">{{select.project}}</a>
          <span ng-if="!select.dataset">{{select.project}}</span>
        </li>
        <li class="active" ng-if="select.dataset">
          {{select.dataset}}
        </li>
      </ol>

      <div ng-show="data.projects && !select.project">
        <h4>Available projects</h4>
        <small class="text-muted">
          Authorization must be requested for projects marked with the <span class="glyphicon glyphicon-lock"></span> icon.</small>
        <br>
        <br>
        <table ng-table="table.projects" class="table table-condensed table-bordered table-striped" show-filter="true">
          <tr ng-repeat="row in $data">
            <td  data-title="'Name'" filter="{name: 'text'}" sortable="'name'" class="col-lg-7">
              <a ng-if="row.authorized" ng-click="getDatasets(row.name)">{{row.name}}</a>
              <span ng-if="!row.authorized" class="text-muted"><span class="glyphicon glyphicon-lock"></span>  {{row.name}}</span>
            </td>
            <td data-title="'Datasets'" filter="{quantity: 'number'}" sortable="'quantity'" class="col-lg-1">{{row.datasets.length}}</td>
            <td data-title="'Date Created'" filter="{dateCreated: 'text'}" sortable="'dateCreated'" class="col-lg-2">{{row.dateCreated}}</td>
          </tr>
        </table>
      </div>

      <div ng-show="data.datasets && !select.dataset">
        <h4>Available datasets</h4>
        <br>
        <table ng-table="table.datasets" class="table table-condensed table-bordered table-striped" show-filter="true">
          <tr ng-repeat="row in $data">
            <td  data-title="'Name'" filter="{name: 'text'}" sortable="'name'" class="col-lg-7">
              <a ng-click="getOrfs(row.name)">{{row.name}}</a></td>
            <td data-title="'Orfs'" filter="{quantity: 'number'}" sortable="'quantity'" class="col-lg-1">{{row.orfs.length}}</td>
            <td data-title="'Date Created'" filter="{dateCreated: 'text'}" sortable="'dateCreated'" class="col-lg-2">{{row.dateCreated}}</td>
          </tr>
        </table>
      </div>

      <div ng-show="data.orfs">
        <h4>Available orfs</h4>
        <p ng-click="resetData()" ng-show="dataSelect">
          <a><span class="glyphicon glyphicon-arrow-left"></span></span>  Return</a>
        </p>

        <table ng-table="table.orfs" class="table table-condensed table-bordered table-striped" show-filter="true">
          <tr ng-repeat="row in $data">
            <td data-title="'Name'" filter="{name: 'text'}" sortable="'name'" class="col-lg-6">
              <a href="/orf/{{select.project}}/{{select.dataset}}/{{row.name}}">{{row.name}}</a>
            </td>
            <td data-title="'Disopred'" sortable="'disopred'" class="col-lg-1 text-center">
              <span class="glyphicon present-icon"
                    ng-class="{'glyphicon-ok text-success': row.disopred, 'glyphicon-remove text-warning': !row.disopred}"></span>
            </td>
            <td data-title="'I-Tasser'" sortable="'itasser'" class="col-lg-1 text-center">
              <span class="glyphicon present-icon"
                    ng-class="{'glyphicon-ok text-success': row.itasser, 'glyphicon-remove text-warning': !row.itasser}"></span>
            </td>
            <td data-title="'TMHMM'" sortable="'tmhmm'" class="col-lg-1 text-center">
              <span class="glyphicon present-icon"
                    ng-class="{'glyphicon-ok text-success': row.tmhmm, 'glyphicon-remove text-warning': !row.tmhmm}"></span>
            </td>
            <td data-title="'Topcons'" sortable="'topcons'" class="col-lg-1 text-center">
              <span class="glyphicon present-icon"
                    ng-class="{'glyphicon-ok text-success': row.topcons, 'glyphicon-remove text-warning': !row.topcons}"></span>
            </td>
            <td data-title="'Start'" filter="{start: 'text'}" sortable="'start'" class="col-lg-1 text-center">
              {{row.start}}
            </td>
            <td data-title="'End'" filter="{end: 'text'}" sortable="'end'" class="col-lg-1 text-center">
              {{row.end}}
            </td>
          </tr>
        </table>
      </div>

    </div>
  </div>
</div>

<footer></footer>
