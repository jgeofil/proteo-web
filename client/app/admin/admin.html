<navbar></navbar>

<div class="container">
  <h2>Users</h2>

  <table ng-table="userTableParams" class="table table-condensed table-bordered table-striped" show-filter="true">
    <tr ng-repeat="row in $data track by $index">
      <td data-title="'Name'" filter="{name: 'text'}" sortable="'name'" class="col-lg-4">
        {{row.name}}
        <a ng-show="row.email != 'admin@example.com'" ng-click="delete(row)" class="glyphicon glyphicon-remove pull-right text-danger"></a>
      </td>
      <td data-title="'ID'" filter="{_id: 'text'}" class="col-lg-4">{{row._id}}</td>
      <td data-title="'Email'" filter="{email: 'text'}" sortable="'email'" class="col-lg-4">{{row.email}}</td>
    </tr>
  </table>

  <h2>Permission groups</h2>
  <div class="input-group">
    <input ng-model="newGroup" type="text" class="form-control" placeholder="Enter new group name..">
    <span class="input-group-btn">
      <button ng-click="addGroup(newGroup)" class="btn btn-primary" type="button">Add!</button>
    </span>
  </div>
  <br>
  <ul class="list-group user-list">
    <li class="list-group-item" ng-repeat="group in groups">
      <div class="user-info">
          <a ng-href="/group/{{group._id}}"><strong>{{group.name}}</strong></a>
          <a ng-click="removeGroup(group._id)" class="glyphicon glyphicon-remove pull-right text-danger"></a>
          <br>
          <span class="text-muted">Datasets: <span class="badge">{{group.permissions.length}}</span></span><br>
          <span class="text-muted">Users: <span class="badge">{{group.users.length}}</span></span>
      </div>
    </li>
  </ul>
</div>
